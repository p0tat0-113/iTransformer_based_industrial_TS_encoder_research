plan_id: TSLIB_baseline_compare_ETTh1

# ETTh1 전용 TSLIB 베이스라인 비교 플랜
# - 목적: ETTh1에서 모델별 성능이 정상적으로 나오는지 빠르게 검증
# - 범위: pred_len=96, seed=0
# - 원칙: TSLIB_baseline_compare_main.yaml의 ETTh1 레시피를 그대로 사용

runs:
  # iTransformer (ETTh1 explicit)
  - id_template: "SUP-{dataset}.TSLIB.iTransformer.e20.vt.pr{pred_len}.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - data.pred_len={pred_len}
      - data.timeenc=1

      - model=TSLIB
      - model.tslib.model_name=iTransformer
      - model.d_model=256
      - model.n_heads=8
      - model.e_layers=2
      - model.d_ff=256
      - model.dropout=0.1
      - model.tslib.d_layers=1
      - model.tslib.factor=3

      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=10
      - train.stop_epoch=10
      - train.batch_size=128
      - train.patience=0
      - train.num_workers=0
      - train.ssl_ckpt_path=null
      - train.val_flag=test

      - optim.name=adam
      - optim.lr=0.0001
      - optim.scheduler=steplr
      - optim.step_size=1
      - optim.gamma=0.5

      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true

      - run.code=SUP-{dataset}
      - run.hparams_tag=tslib-iTransformer-ETTh1-only-pr{pred_len}
      - run.id={id}
    sweep:
      dataset: [ETTh1]
      pred_len: [96]
      seed: [0]

  # DLinear (ETTh1)
  - id_template: "SUP-{dataset}.TSLIB.DLinear.e20.vt.pr{pred_len}.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - data.pred_len={pred_len}
      - data.timeenc=1

      - model=TSLIB
      - model.tslib.model_name=DLinear
      - model.tslib.factor=3

      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=10
      - train.stop_epoch=10
      - train.batch_size=128
      - train.patience=0
      - train.num_workers=0
      - train.ssl_ckpt_path=null
      - train.val_flag=test

      - optim.name=adam
      - optim.lr=0.0001
      - optim.scheduler=steplr
      - optim.step_size=1
      - optim.gamma=0.5

      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true

      - run.code=SUP-{dataset}
      - run.hparams_tag=tslib-DLinear-ETTh1-only-pr{pred_len}
      - run.id={id}
    sweep:
      dataset: [ETTh1]
      pred_len: [96]
      seed: [0]

  # TiDE (ETTh1 explicit)
  - id_template: "SUP-{dataset}.TSLIB.TiDE.e20.vt.pr{pred_len}.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - data.pred_len={pred_len}
      - data.timeenc=1

      - model=TSLIB
      - model.tslib.model_name=TiDE
      - model.d_model=256
      - model.n_heads=8
      - model.e_layers=2
      - model.d_ff=256
      - model.dropout=0.3
      - model.tslib.d_layers=2
      - model.tslib.factor=3

      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=10
      - train.stop_epoch=10
      - train.batch_size=128
      - train.patience=0
      - train.num_workers=0
      - train.ssl_ckpt_path=null
      - train.val_flag=test

      - optim.name=adam
      - optim.lr=0.0001
      - optim.scheduler=steplr
      - optim.step_size=1
      - optim.gamma=0.5

      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true

      - run.code=SUP-{dataset}
      - run.hparams_tag=tslib-TiDE-ETTh1-only-pr{pred_len}
      - run.id={id}
    sweep:
      dataset: [ETTh1]
      pred_len: [96]
      seed: [0]

  # FEDformer (ETTh1 explicit)
  - id_template: "SUP-{dataset}.TSLIB.FEDformer.e20.vt.pr{pred_len}.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - data.pred_len={pred_len}
      - data.timeenc=1

      - model=TSLIB
      - model.tslib.model_name=FEDformer
      - model.d_model=512
      - model.n_heads=8
      - model.e_layers=2
      - model.d_ff=2048
      - model.dropout=0.1
      - model.tslib.d_layers=1
      - model.tslib.factor=3
      - model.tslib.moving_avg=25

      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=10
      - train.stop_epoch=10
      - train.batch_size=128
      - train.patience=0
      - train.num_workers=0
      - train.ssl_ckpt_path=null
      - train.val_flag=test

      - optim.name=adam
      - optim.lr=0.0001
      - optim.scheduler=steplr
      - optim.step_size=1
      - optim.gamma=0.5

      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true

      - run.code=SUP-{dataset}
      - run.hparams_tag=tslib-FEDformer-ETTh1-only-pr{pred_len}
      - run.id={id}
    sweep:
      dataset: [ETTh1]
      pred_len: [96]
      seed: [0]

  # Autoformer (ETTh1 explicit)
  - id_template: "SUP-{dataset}.TSLIB.Autoformer.e20.vt.pr{pred_len}.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - data.pred_len={pred_len}
      - data.timeenc=1

      - model=TSLIB
      - model.tslib.model_name=Autoformer
      - model.d_model=512
      - model.n_heads=8
      - model.e_layers=2
      - model.d_ff=2048
      - model.dropout=0.1
      - model.tslib.d_layers=1
      - model.tslib.factor=3
      - model.tslib.moving_avg=25

      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=10
      - train.stop_epoch=10
      - train.batch_size=128
      - train.patience=0
      - train.num_workers=0
      - train.ssl_ckpt_path=null
      - train.val_flag=test

      - optim.name=adam
      - optim.lr=0.0001
      - optim.scheduler=steplr
      - optim.step_size=1
      - optim.gamma=0.5

      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true

      - run.code=SUP-{dataset}
      - run.hparams_tag=tslib-Autoformer-ETTh1-only-pr{pred_len}
      - run.id={id}
    sweep:
      dataset: [ETTh1]
      pred_len: [96]
      seed: [0]

  # PatchTST (ETTh1 explicit)
  - id_template: "SUP-{dataset}.TSLIB.PatchTST.e20.vt.pr{pred_len}.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - data.pred_len={pred_len}
      - data.timeenc=1

      - model=TSLIB
      - model.tslib.model_name=PatchTST
      - model.e_layers=1
      - model.n_heads=2
      - model.tslib.factor=3

      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=10
      - train.stop_epoch=10
      - train.batch_size=32
      - train.patience=0
      - train.num_workers=0
      - train.ssl_ckpt_path=null
      - train.val_flag=test

      - optim.name=adam
      - optim.lr=0.0001
      - optim.scheduler=steplr
      - optim.step_size=1
      - optim.gamma=0.5

      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true

      - run.code=SUP-{dataset}
      - run.hparams_tag=tslib-PatchTST-ETTh1-only-pr{pred_len}
      - run.id={id}
    sweep:
      dataset: [ETTh1]
      pred_len: [96]
      seed: [0]

ops: []
cmps: []
aggs: []
