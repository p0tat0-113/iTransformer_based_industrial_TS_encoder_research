plan_id: M0_ablation_global_slot_attn

runs:
  # -------------------------
  # Ablation: Global-only head (use p=L slot only) + post-encoder slot-attn 1x
  # - Multi-scale slots are still constructed.
  # - Output head uses only the global (p=L) slot (no fuse).
  # -------------------------
  - id_template: "SUP-{dataset}.M0GOSA.sd{seed}"
    entry: downstream
    overrides:
      - data={dataset}
      - model=M0
      - model.multislot.slot_attn.enabled=true
      - model.multislot.slot_fuse.mode=select_global
      - train=downstream
      - train.mode=ft
      - train.freeze_epochs=0
      - train.epochs=30
      - train.batch_size=128
      - train.patience=0
      - train.ssl_ckpt_path=null
      - optim.lr=0.0004
      - optim.scheduler=cosine
      - optim.min_lr=0.000001
      - optim.t_max=30
      - metadata.enabled=false
      - runtime.device=cuda
      - runtime.seed={seed}
      - runtime.deterministic=true
      - run.code=SUP-{dataset}
      - run.hparams_tag=m0-global-only-head+post-slot-attn
      - run.id={id}
    sweep:
      dataset: [ETTh1, Exchange]
      seed: [0]

ops: []
cmps: []
aggs: []
